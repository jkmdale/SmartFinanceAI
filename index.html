<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | SmartFinanceAI</title>

  <!-- Styles -->
  <link rel="stylesheet" href="./styles/main.css" />
  <link rel="icon" href="./assets/img/logo-primary.svg" type="image/svg+xml" />
</head>
<body class="dashboard-page">

  <header class="dashboard-header glass-effect">
    <img src="./assets/img/logo-primary.svg" alt="SmartFinanceAI Logo" class="logo-small" />
    <h1 class="dashboard-title">Welcome to SmartFinanceAI</h1>
    <p id="user-email" class="dashboard-subtitle">Loading your data...</p>
  </header>

  <main class="dashboard-content glass-effect">
    <button id="logout-btn" class="btn-outline">Log Out</button>
    <button id="biometric-setup-btn" class="btn-outline">Register Face ID / Fingerprint</button>

    <!-- Future widgets go here -->
    <div class="coming-soon">
      <p>ðŸ“Š Financial summary coming soon...</p>
    </div>
  </main>

  <!-- Scripts -->
  <script type="module">
    import { supabase } from './js/supabase/supabaseClient.js';
    import { requireLogin } from './auth/session-manager.js';

    // ðŸ”’ Ensure user is logged in
    await requireLogin();

    // ðŸ§  Display user email
    const { data: { user } } = await supabase.auth.getUser();
    document.getElementById('user-email').textContent = user?.email || 'Unknown user';
  </script>

  <script type="module" src="./auth/logout.js"></script>
  <script type="module" src="./auth/biometric-setup.js"></script>
</body>
</html>